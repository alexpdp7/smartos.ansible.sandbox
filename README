SmartOS modules are in the devel branch for Ansible 2.3, so you cannot use
packaged/pip versions.

Create a virtualenv with Python 3 and:

$ pip install -r requirements.txt

You might need to pip install appdirs separately prior to that.

Install Python on SmartOS so it can be managed by Ansible:

$ ansible-playbook -i hosts bootstrap_ansible.yml

Create a CentOS 7 LX Zone:

$ ansible-playbook create_centos.yml

You should now be able to access it with Ansible's inventory:

$ ansible -m ping zone1

Create an etherstub:

$ ansible-playbook setup_etherstub.yml
